<h1>Productos disponibles</h1>

<div id="cartControls" style="margin-bottom: 20px;">
  <button id="createCartBtn">Crear carrito</button>
</div>

<div style="display: flex; flex-wrap: wrap; gap: 16px;">
  {{#each products}}
    <div style="border: 1px solid #ccc; padding: 10px; width: 250px; border-radius: 8px;">
      <h3>{{this.title}}</h3>
      <p><strong>Precio:</strong> ${{this.price}}</p>
      <p><strong>Categoría:</strong> {{this.category}}</p>
      <a href="/products/{{this._id}}">
        <button>Ver detalle</button>
      </a>
      <button class="add-to-cart" data-id="{{this._id}}" style="margin-top: 8px;">Agregar al carrito</button>
    </div>
  {{/each}}
</div>

<br>
<a href="/realtimeproducts"><button>Menu de Productos</button></a>

<div style="margin-top: 20px;">
  {{#if hasPrevPage}}
    <a href="?page={{prevPage}}"><button>← Anterior</button></a>
  {{/if}}

  <span>Página {{page}} de {{totalPages}}</span>

  {{#if hasNextPage}}
    <a href="?page={{nextPage}}"><button>Siguiente →</button></a>
  {{/if}}
</div>

<script src="/socket.io/socket.io.js"></script>
<script src="/main.js"></script>
